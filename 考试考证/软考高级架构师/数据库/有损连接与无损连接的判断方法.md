以下是一个实例，通过具体例子来帮助你理解如何判断有损连接和无损连接。

### 实例：关系分解

假设有一个关系R，包含如下属性：

- **R(学号, 姓名, 课程号, 成绩)**

我们现在将该关系分解成两个子关系：

- **R1(学号, 姓名, 课程号)**
- **R2(课程号, 成绩)**

**目标**：判断该分解是否是无损连接分解。

#### 步骤 1: 判断主键

首先，我们要找出关系R的主键。

- 假设**学号**和**课程号**的组合可以唯一确定成绩，那么关系R的主键是（学号, 课程号）。

#### 步骤 2: 分析分解后的子关系

- **R1(学号, 姓名, 课程号)**：包含学号和课程号，可以唯一确定每个学生的姓名以及其修读的课程。
- **R2(课程号, 成绩)**：包含课程号和成绩，可以唯一确定每门课程的成绩。

#### 步骤 3: 检查是否可以恢复原始关系

要判断分解后的关系是否为无损连接，我们需要检查是否能够通过连接R1和R2恢复原始关系R。

1. **连接条件**：连接R1和R2时，我们需要用到一个公共属性——**课程号**。

2. 连接后是否能恢复原始关系

   ：

   - 从R1中，我们可以获得（学号, 姓名, 课程号）。
   - 从R2中，我们可以获得（课程号, 成绩）。
   - 将这两个关系连接后，得到（学号, 姓名, 课程号, 成绩），即可以完全恢复原始关系R。

#### 步骤 4: 判断无损连接

- 在这个例子中，我们通过连接R1和R2可以得到原始关系R，并且没有丢失任何信息。因此，**这个分解是无损连接分解**。

### 示例 2：有损连接分解

假设我们有另一个关系R，包含如下属性：

- **R(学号, 姓名, 课程号, 成绩, 教师)**

我们将关系R分解为两个子关系：

- **R1(学号, 姓名, 课程号)**
- **R2(课程号, 成绩)**

#### 步骤 1: 判断主键

- 假设**学号**和**课程号**的组合可以唯一确定成绩，那么关系R的主键是（学号, 课程号）。

#### 步骤 2: 分析分解后的子关系

- **R1(学号, 姓名, 课程号)**：包含学号、姓名和课程号。
- **R2(课程号, 成绩)**：包含课程号和成绩。

#### 步骤 3: 检查是否可以恢复原始关系

1. **连接条件**：连接R1和R2时，我们用到公共属性——**课程号**。

2. 连接后是否能恢复原始关系

   ：

   - 连接后的结果是（学号, 姓名, 课程号, 成绩），但是原始关系中还包含了**教师**这一属性。
   - 由于分解后的关系中没有教师信息，**连接后的结果不能完全恢复原始关系R**。

#### 步骤 4: 判断有损连接

- 在这个例子中，我们通过连接R1和R2无法恢复原始关系R，因为丢失了“教师”这一重要信息。因此，**这个分解是有损连接分解**。

### 总结

- **无损连接分解**：可以通过连接分解后的子关系恢复原始关系，并且没有丢失信息。
- **有损连接分解**：无法通过连接恢复原始关系，或者恢复的关系缺少原始关系中的某些信息。