**Node Exporter æ˜¯ Prometheus ä½“ç³»ä¸­æœ€å¸¸ç”¨çš„ä¸»æœºç›‘æ§é‡‡é›†å™¨ï¼ˆExporterï¼‰ä¹‹ä¸€ï¼Œç”¨æ¥é‡‡é›†æ“ä½œç³»ç»Ÿçº§åˆ«çš„æŒ‡æ ‡æ•°æ®ã€‚**
 ç®€å•æ¥è¯´ï¼šNode Exporter = â€œé‡‡ç³»ç»ŸæŒ‡æ ‡çš„æ•°æ®æ¢é’ˆâ€ã€‚

------

# ğŸ§© **Node Exporter çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¸€å¥è¯è¯´æ˜ï¼‰**

ğŸ‘‰ **Node Exporter ç”¨æ¥é‡‡é›†æœåŠ¡å™¨ï¼ˆLinuxï¼‰çš„æ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶æä¾›ç»™ Prometheus ç›‘æ§ã€‚**

------

# ğŸ“Š **Node Exporter å¯ä»¥ç›‘æ§ä»€ä¹ˆï¼Ÿï¼ˆéå¸¸è¯¦ç»†ï¼‰**

Node Exporter ä¼šæš´éœ²å¤§é‡ä¸»æœºçº§æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ï¼š

### âœ… CPU æŒ‡æ ‡

- CPU ä½¿ç”¨ç‡
- CPU æ—¶é—´ï¼ˆuser/system/idle/iowait ç­‰ï¼‰
- ä¸­æ–­/ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°

### âœ… å†…å­˜æŒ‡æ ‡

- å·²ç”¨å†…å­˜ / å‰©ä½™å†…å­˜
- ç¼“å­˜ã€ç¼“å†²åŒº
- swap ä½¿ç”¨é‡

### âœ… ç£ç›˜æŒ‡æ ‡

- æ¯ä¸ªç£ç›˜çš„è¯»å†™é€Ÿç‡
- IO ä½¿ç”¨ç‡
- ç£ç›˜ç©ºé—´å ç”¨ï¼ˆinode/å®¹é‡ï¼‰

### âœ… ç½‘ç»œæŒ‡æ ‡

- æ¯ä¸ªç½‘å¡çš„ä¸Šè¡Œ/ä¸‹è¡Œæµé‡
- ä¸¢åŒ…ã€é”™è¯¯æ•°
- ç½‘å¡çŠ¶æ€

### âœ… ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

- ç³»ç»Ÿè´Ÿè½½ï¼ˆload averageï¼‰
- å¼€æœºæ—¶é—´ï¼ˆuptimeï¼‰
- è¿è¡Œè¿›ç¨‹æ•°é‡
- æ–‡ä»¶å¥æŸ„ä½¿ç”¨æƒ…å†µ

### âœ… ç¡¬ä»¶ä¼ æ„Ÿå™¨

- CPU æ¸©åº¦ï¼ˆå¦‚æœç³»ç»Ÿæ”¯æŒï¼‰
- é£æ‰‡è½¬é€Ÿ
- ç”µå‹

### ğŸ‘‰ æ€»ç»“

Node Exporter ç›‘æ§çš„æ˜¯æœåŠ¡å™¨æ“ä½œç³»ç»Ÿçš„â€œå¥åº·æŒ‡æ ‡â€ã€‚

------

# ğŸ”§ **Node Exporter å¦‚ä½•ä½¿ç”¨ï¼Ÿ**

å¯åŠ¨ Node Exporter åï¼Œå®ƒä¼šåœ¨ **9100 ç«¯å£** æä¾›ä¸€ä¸ª `/metrics` æ¥å£ï¼ŒPrometheus ä¼šå®šæ—¶æ‹‰å–ï¼ˆscrapeï¼‰è¿™äº›æ•°æ®ã€‚

ä¾‹å¦‚ï¼š
 http://your-server-ip:9100/metrics

Prometheus é…ç½®ç¤ºä¾‹ï¼š

```
scrape_configs:
  - job_name: "node"
    static_configs:
      - targets: ["10.0.0.1:9100", "10.0.0.2:9100"]
```

------

# ğŸ¯ **Node Exporter çš„æ„ä¹‰ï¼ˆä¸ºä»€ä¹ˆå¿…é¡»ç”¨å®ƒï¼Ÿï¼‰**

å› ä¸º Prometheus æœ¬èº«ä¸è´Ÿè´£é‡‡é›†æœåŠ¡å™¨æ•°æ®ï¼Œå®ƒåªç”¨äºæ‹‰å–æ•°æ®ã€‚
 è¦ç›‘æ§ Linux ä¸»æœºï¼Œå°±å¿…é¡»ç”¨ Node Exporterã€‚

è¿™ä½¿ä½ èƒ½åœ¨ Grafana ä¸Šåšå‡ºç³»ç»Ÿç›‘æ§å¤§å±ï¼š

- CPU/å†…å­˜/ç£ç›˜å®æ—¶æ›²çº¿
- ä¸»æœºå¥åº·æ€»è§ˆ
- ç£ç›˜ IOã€ç½‘ç»œ IO
- è´Ÿè½½é£™å‡å‘Šè­¦
- ä¸»æœºç¦»çº¿å‘Šè­¦

ä¾‹å¦‚è‘—åçš„ Dashboardï¼š**ID 1860**

------

# ğŸ§± **Node Exporter ä¸å…¶ä»– Exporter çš„å…³ç³»**

| Exporter          | ç”¨é€”                        |
| ----------------- | --------------------------- |
| **Node Exporter** | ç›‘æ§ Linux ä¸»æœº             |
| cAdvisor          | ç›‘æ§å®¹å™¨ï¼ˆDocker/K8sï¼‰      |
| Blackbox Exporter | HTTP/TCP/ICMP å¯ç”¨æ€§        |
| MySQL Exporter    | MySQL æ•°æ®åº“                |
| Redis Exporter    | Redis                       |
| JMX Exporter      | JVM åº”ç”¨ï¼ˆJavaã€Tomcat ç­‰ï¼‰ |

Node Exporter æ˜¯æ‰€æœ‰ç›‘æ§ä½“ç³»çš„åŸºç¡€ç»„æˆéƒ¨åˆ†ã€‚

------

# ğŸ“Œ æ€»ç»“ä¸€å¥è¯

**Node Exporter = Linux ä¸»æœºç›‘æ§æ’ä»¶ â†’ ä¸º Prometheus æä¾›æœåŠ¡å™¨çš„å…¨éƒ¨ç³»ç»ŸæŒ‡æ ‡ã€‚**

------

# å®‰è£…

ä¸‹è½½è·¯å¾„

```
https://github.com/prometheus/node_exporter/releases
```

ç›´æ¥è§£å‹å¯åŠ¨å³å¯

##  éªŒè¯ Node Exporter æ˜¯å¦æˆåŠŸå¯åŠ¨

æµè§ˆå™¨è®¿é—®ï¼š

ğŸ‘‰ http://æœåŠ¡å™¨IP:9100/metrics

å¦‚æœèƒ½çœ‹åˆ°ä¸€å †æ–‡æœ¬ï¼ˆCPU/å†…å­˜/ç£ç›˜ç­‰æŒ‡æ ‡ï¼‰ï¼Œè¯´æ˜æˆåŠŸï¼

## å¸¸ç”¨å‚æ•°ï¼ˆå¯é€‰ï¼‰

ä¾‹å¦‚è‡ªå®šä¹‰ç›‘å¬åœ°å€ï¼š

```
ExecStart=/opt/node_exporter/node_exporter \
  --web.listen-address="0.0.0.0:9100"
```

ç»‘å®šæŒ‡å®šç½‘å¡ï¼š

```
--web.listen-address="192.168.1.10:9100"
```

ç¦ç”¨æŸäº›é‡‡é›†å™¨ï¼š

```
--collector.disable-defaults
```

### Prometheus é…ç½®ç¤ºä¾‹

åœ¨ prometheus.yml æ·»åŠ ï¼š

```
scrape_configs:
  - job_name: "node"
    static_configs:
      - targets: ["your-server-ip:9100"]
```

é‡å¯ Prometheus åå³å¯çœ‹åˆ°ä¸»æœºæŒ‡æ ‡ã€‚

è¦â€œçœ‹åˆ°â€ Node Exporter çš„ä¸»æœºæŒ‡æ ‡ï¼Œæœ‰ **3 ç§æŸ¥çœ‹æ–¹å¼**ï¼š
 â‘  ç›´æ¥çœ‹ Prometheus Targets é¡µé¢
 â‘¡ åœ¨ Prometheus ç”¨ PromQL æŸ¥è¯¢
 â‘¢ åœ¨ Grafana ä»ªè¡¨ç›˜æŸ¥çœ‹ï¼ˆæœ€å¸¸ç”¨ï¼‰



### **ä½¿ç”¨ rpm å®‰è£… Grafanaï¼ˆæœ€å¿«æ–¹å¼ï¼‰**

ç›´æ¥ä¸‹è½½å®‰è£…å³å¯

```
yum install -y https://dl.grafana.com/enterprise/release/grafana-enterprise-10.2.3-1.x86_64.rpm
```

è¿›å…¥ä¸‹è½½ç›®å½•ï¼š

```
cd /è·¯å¾„/åˆ°/å®‰è£…åŒ…
```

ç„¶åæ‰§è¡Œï¼š

```
sudo rpm -ivh grafana-*.rpm
```

å¦‚æœä½ çš„æ–‡ä»¶åæ˜¯ï¼š

```
grafana-10.2.3-1.x86_64.rpm
```

åˆ™ï¼š

```
sudo rpm -ivh grafana-10.2.3-1.x86_64.rpm
```

### **å®‰è£…å®Œæˆåå¯åŠ¨ Grafana æœåŠ¡**

```
sudo systemctl daemon-reload
sudo systemctl start grafana-server
```

æŸ¥çœ‹çŠ¶æ€ï¼š

```
sudo systemctl status grafana-server
```

å¦‚æœçœ‹åˆ°ï¼š

```
Active: active (running)
```

è¯´æ˜å¯åŠ¨æˆåŠŸã€‚

------

### è®¾ç½®å¼€æœºè‡ªå¯

```
sudo systemctl enable grafana-server
```

### **è®¿é—® Grafana**

æµè§ˆå™¨è¾“å…¥ï¼š

ğŸ‘‰ **http://ä½ çš„CentOSæœåŠ¡å™¨IP:3000**

é»˜è®¤ç™»å½•ï¼š

- ç”¨æˆ·åï¼šadmin
- å¯†ç ï¼šadmin

é¦–æ¬¡ç™»å½•éœ€ä¿®æ”¹å¯†ç ã€‚